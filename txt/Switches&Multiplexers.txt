cd4052: dual 4-channel
cd4066: 4SPST(15V 160Ω+，低电压时更高 260Ω+ 电阻太大不能用，适用于追求零缺陷的高可靠性汽车电子应用的器件)
SGM48754: 4SPST (24Ω 也有些大)
ch440:  4SPDT(单控制端 可用，浪费2路)
ch442:  2SPDT(适合切换 OMTP 淘宝没有卖)
SGM44599: 2控制 2组 2x SPDT  满足要求，但3x3 QFN 不好焊接
ch444: 2x 1:4  Ron=5Ω
SGM84782: 同ch444 Ron=4Ω
ch446q: 8x16 矩阵 1片可做出4手机对8U盾 或8手机对4U盾  2片并行使用做出8手机对16U盾
SGM4717: 2个独立控制 SPDT，可用于切换OMTP和 当 SPST用（SGM48754 是spst但电阻24Ω有点大）

ADG804

(2c 1:4) x4片 +1:2 兼容2种耳机模式+ f103c8t6 USB->com

===
OMTP:国标/欧标 左右麦地
CTIA:国际/美标 左右地麦

Uv胶 紫外灯照射至胶水固化


microbit 插入win7 ：mbed Serial Port 驱动不识别

为什么linux不需要usb 串口驱动，windows却不行

--------------
方案0（放弃）:不用3.5，而用排线引出，但是到定制线模具用串口盒，地+4*(左声道+mic)共9针

OMTP CTIA 兼容问题，用ch442，

4段式母座：
pj-313d/e 太深插不到底  fail!
pj-320d					ok!

pj-3062   raspberry pi 用的 ok

经测，按键需200g*9.8N/Kg=2N
滑台(丝杆ok/皮带)+舵机


模具：
树莓派 盒子 耳机插孔内径 6.4mm，耳机插孔外径 6mm，留有0.4mm空隙

用 S4B-PH-K-S  这个9.9mm 边更窄，比SMT的S4B-PH-SM4 少2mm的侧面焊接点

配2条  4p2.0 -> 2.54 杜邦，4色，同色相连

OMTP 兼容的前提是： U盾 是兼容2种模式的

----
OMTP模式切换和 连通器+串口 切换， GND上加开关，需要实验验证支撑


测试U盾：
1 仅从第二段 接收信号   （2路音频全引入最保险，引一路，只管现在，以后不兼容了可以再卖！）
2 实测左右通道都有信号且一样，但
3 U盾程序中，插入耳机，发出3声吱吱声，手机先通过L/R声道发出命令，设备通过mic线回复
倒数第二段断掉了，竟也读到序列号

mic(第4段)上一直2V，信号在2V上面传输，
苹果6 测到：耳机，以第四段为地，第三段 +2V（说明这个耳机是国标？不对呀！）， 而U盾，以第四段为地，第三段 -2V，这说明苹果手机自动兼容了OMTP
U盾，以第三段为地，第四段+2V，L/R信号 0V 正负，否则是 -2V 正负

耳机 信号正负10mv 左右，线控按下，电压变0，音量+/- 在2V上发出一个特殊信号，语音信号也在2V上

我测试的苹果耳机，在家PC上正常使用

----
方案更迭：
开始想 4路信号全接上，100%兼容，后来考虑到GND 和mic 位置不统一，而mic要加电容变幻电压，所以设计了 GND和mic的 交叉电路，这样就可以共地
后来发现 mic信号在2V上下传输，那么mic就不需要电容了，那么4路全通又成为可能，交叉电路不用了，可是又一想，信号需要共地（待验证，应该需要，否则就没有正负电压之分了）
这样就又需要交叉电路，但是交叉电路也在操作GND，可行吗? 难道要用到干簧继电器(干簧管放在线圈里)？！

就算交叉电路操作地可行，手机，U盾，盒子，就共地了，但是模拟OK按键的电路无法共地，不对！，也共地了，3.5的地！刚才还想，需要连接USB和盒子usb到同一个hub，
可是测量与USB的GND：
不工作状态下：U盾第三段和USB地，万用表没有响，L/R 33Ω 响了，
工作状态下：  U盾第三段和USB地 4Ω上下，L/R 13Ω 上下，第四段高阻抗
说明在电路上，音频口的地并没有直接连入板子的地（如果有原理图就好了）

不过说明，在工作状态下，有可能已经“共地了” （这个地方没关系，大不了这个功能不能用）
----

--
###############现在需要测试##########
U盾在华为手机上，哪个引脚是GNG，（它可能不会切换，）
--

----
模拟开关 是否 等价 继电器， 或者说，到底是否需要参考共同地，  应该是要共地，否则，也就不分什么 正负电压了
--------------

----
http://www.chinafix.com/thread-1023822-1-1.html usb typeC 转换头拆机 没有芯片

序列号芯片 ds2411  1元

MTT/STT HUB

microchip 2-port hub 
USB2412  5x5mm 5元
F321    5元

==== 0812 ===
1 p26 12k必须焊
2 不插usb，只供电，有晶振
4 没焊12k时，可看到12MHz的full speed波形，焊后480M，示波器看不到了

--------------------
libusb_set_configuration
A configuration value of -1 will put the device in unconfigured state

SET_CONFIGURATION
GET_CONFIGURATION

libusb: A cross-platform user library to access USB devices
--enable-debug-log

sudo可运行，否则会segmentation fault

返回-6    LIBUSB_ERROR_BUSY = -6,
下行端口直接插，不能识别，必须插着下行端口，再插上行端口，才能将hub和设备一起识别出来,拔掉再插，就又识别不出来了
或者，有时候，能识别一次

苹果手机，usb读卡器 后插可以识别，钥匙上的U盘，后插入不识别

先 libusb_release_interface ? 

libusb_detach_kernel_driver  这个必须，要kernel放弃驱动控制权

libusb_detach_kernel_driver
libusb_set_configuration    实验成功

WS2812    环形，做个 时钟
