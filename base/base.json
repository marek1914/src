http://www.json.org/
json(JavaScript Object Notation) is a lightweight data-interchange format
比xml解析快，体积小，数据描述性比xml差

官网罗列各种语言的各种解析包数十种，android在libcore/json org.json包中
数据交换基本概念，瞬间发现没有理解
定义ljwl的json时，险些犯低级错误
多张表的时候，可以像关系型数据库一样，靠key值连接吗？
设计在1个json，还是多个json

-- C microjson --

xbmx udp协议
udp数据
XBMC    R1.right   数据包中 0x13代表按下 0x35代表抬起
XBMC    R1.select

XBMC 5 R1.skipmius
XBMC 5 R1.skipplus


Now Playing

xbmx的音乐列表控制，不是upnp但是实现了类似upnp cds的功能
过程
手机 向xbmc发送请求：
HTTP POST /jsonrpc HTTP/1.1
附加json信息：
{
"jsonrpc":"2.0",
"method":"Player.GetActivePlayers",
"id":"1"
} 


得到回应
HTTP/1.1 200 OK
{
"id":"1",
"jsonrpc":"2.0",
"result":[{"playered":0,"type":"audio"}]
}

手机发送请求
POST /jsonrpc HTTP/1.1
{
"jsonrpc":"2.0",
"method":"Player.GetProperties",
"id":"1",
"params":{
   "playerid":0,
   "properties":["percentage","position","speed","time","totaltime","type"]
 }
}

得到回应
HTTP/1.1 200 OK

{
"id":"1",
"jsonrpc":"2.0",
"result":{
  "percentage":36.14,
  "position":47,
  "speed":1,
  "time":{
         "hours":0,"milliseconds":928,"minutes":1,"seconds":27
         },
  "totaltime":{
         "hourse":0,"milliseconds":252
         },
  "type":"audio"
  }
}

请求json
{
"jsonrpc":"2.0",
"method":"Player.GetItem",
"id":"1",
"params":{
    "playerid":0,
    "properties":[
           "artist",
           "album",
           "duration",
           "episode",
           "genre",
           "file",
           "season",
           "showtitle",
           "tagline",
           "title"]
   }
}

回应：
{
"id":"1",
"jsonrpc":"2.0",
"result":{
         "item":{"album":"21",
                 "artist":["ADELE"],
                 "duration":243,
                 "file":"/home/gaojie/xx.m4a",
                 "genre":["Pop"],
                 "lable":"04.Adele-Don't You Remember",
                 "title":"Don't You Remember",
                 "type":"unknown"}
         }
}

使用最新版本的remote 在music show中打开文件夹（可以成功看到xbmc共享出来的music目录
这类似cds的功能了）
发送请求
{
"jsonrpc":"2.0",
"method":"Files.GetDirectory",
"id":"1",
"params":{
          "media":"files",
          "directory":"/home/Music",
          "sort":{
              "ignorearticle":true,
              "method":"label",
              "order":"ascending"
          }
         }
}

然后回复一个 大大的 HTTP/1.1 200 OK  因为太大分成3个PDU包 这种情况wireshark竟然不嫩识别
成http包？！  返回的是大大的文件信息列表。
{
"jsonrpc":"2.0",
"result":{
    "files":[
          {"file":"C:/xx","type":"directory","lable":"xxx"},
          {"file":"C:/xx.mp3","type":"file","lable":"xxx"},
           ...
            ],
    "limits":{
             "end":15,
             "start":0,
             "total":15
              }
          }
}

也有bug，可能是版本没有配合好！

发送文字 请求
{
"jsonrpc":"2.0",
"method":"Input.SendText",
"id":"1",
"params":{
         "text":"abcdefg",
         "done":true  // or false  有ui是否点击“Done” 决定
         }
}

回应
{
"id":"1",
"jsonrpc":"2.0",
"result":"OK"
}

