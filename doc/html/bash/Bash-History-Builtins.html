<html lang="en">
<head>
<title>Bash History Builtins - Bash Reference Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Bash Reference Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Using-History-Interactively.html#Using-History-Interactively" title="Using History Interactively">
<link rel="prev" href="Bash-History-Facilities.html#Bash-History-Facilities" title="Bash History Facilities">
<link rel="next" href="History-Interaction.html#History-Interaction" title="History Interaction">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This text is a brief description of the features that are present in
the Bash shell (version 4.1, 23 December 2009).

This is Edition 4.1, last updated 23 December 2009,
of `The GNU Bash Reference Manual',
for `Bash', Version 4.1.

Copyright (C) 1988--2009 Free Software Foundation, Inc.

Permission is granted to make and distribute verbatim copies of
this manual provided the copyright notice and this permission notice
are preserved on all copies.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover texts
     being ``A GNU Manual'', and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License''.

     (a) The FSF's Back-Cover Text is: You are free to copy and modify
     this GNU manual.  Buying copies from GNU Press supports the FSF in
     developing GNU and promoting software freedom.''

   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Bash-History-Builtins"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="History-Interaction.html#History-Interaction">History Interaction</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Bash-History-Facilities.html#Bash-History-Facilities">Bash History Facilities</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Using-History-Interactively.html#Using-History-Interactively">Using History Interactively</a>
<hr>
</div>

<h3 class="section">9.2 Bash History Builtins</h3>

<p><a name="index-history-builtins-390"></a>
Bash provides two builtin commands which manipulate the
history list and history file.

     <dl>
<dt><code>fc</code><dd><a name="index-fc-391"></a>
     <pre class="example">          <code>fc [-e </code><var>ename</var><code>] [-lnr] [</code><var>first</var><code>] [</code><var>last</var><code>]</code>
          <code>fc -s [</code><var>pat</var><code>=</code><var>rep</var><code>] [</code><var>command</var><code>]</code>
</pre>
     <p>Fix Command.  In the first form, a range of commands from <var>first</var> to
<var>last</var> is selected from the history list.  Both <var>first</var> and
<var>last</var> may be specified as a string (to locate the most recent
command beginning with that string) or as a number (an index into the
history list, where a negative number is used as an offset from the
current command number).  If <var>last</var> is not specified it is set to
<var>first</var>.  If <var>first</var> is not specified it is set to the previous
command for editing and &minus;16 for listing.  If the <samp><span class="option">-l</span></samp> flag is
given, the commands are listed on standard output.  The <samp><span class="option">-n</span></samp> flag
suppresses the command numbers when listing.  The <samp><span class="option">-r</span></samp> flag
reverses the order of the listing.  Otherwise, the editor given by
<var>ename</var> is invoked on a file containing those commands.  If
<var>ename</var> is not given, the value of the following variable expansion
is used: <code>${FCEDIT:-${EDITOR:-vi}}</code>.  This says to use the
value of the <samp><span class="env">FCEDIT</span></samp> variable if set, or the value of the
<samp><span class="env">EDITOR</span></samp> variable if that is set, or <code>vi</code> if neither is set. 
When editing is complete, the edited commands are echoed and executed.

     <p>In the second form, <var>command</var> is re-executed after each instance
of <var>pat</var> in the selected command is replaced by <var>rep</var>.

     <p>A useful alias to use with the <code>fc</code> command is <code>r='fc -s'</code>, so
that typing &lsquo;<samp><span class="samp">r cc</span></samp>&rsquo; runs the last command beginning with <code>cc</code>
and typing &lsquo;<samp><span class="samp">r</span></samp>&rsquo; re-executes the last command (see <a href="Aliases.html#Aliases">Aliases</a>).

     <br><dt><code>history</code><dd><a name="index-history-392"></a>
     <pre class="example">          history [<var>n</var>]
          history -c
          history -d <var>offset</var>
          history [-anrw] [<var>filename</var>]
          history -ps <var>arg</var>
</pre>
     <p>With no options, display the history list with line numbers. 
Lines prefixed with a &lsquo;<samp><span class="samp">*</span></samp>&rsquo; have been modified. 
An argument of <var>n</var> lists only the last <var>n</var> lines. 
If the shell variable <samp><span class="env">HISTTIMEFORMAT</span></samp> is set and not null,
it is used as a format string for <var>strftime</var> to display
the time stamp associated with each displayed history entry. 
No intervening blank is printed between the formatted time stamp
and the history line.

     <p>Options, if supplied, have the following meanings:

          <dl>
<dt><code>-c</code><dd>Clear the history list.  This may be combined
with the other options to replace the history list completely.

          <br><dt><code>-d </code><var>offset</var><dd>Delete the history entry at position <var>offset</var>. 
<var>offset</var> should be specified as it appears when the history is
displayed.

          <br><dt><code>-a</code><dd>Append the new
history lines (history lines entered since the beginning of the
current Bash session) to the history file.

          <br><dt><code>-n</code><dd>Append the history lines not already read from the history file
to the current history list.  These are lines appended to the history
file since the beginning of the current Bash session.

          <br><dt><code>-r</code><dd>Read the current history file and append its contents to
the history list.

          <br><dt><code>-w</code><dd>Write out the current history to the history file.

          <br><dt><code>-p</code><dd>Perform history substitution on the <var>arg</var>s and display the result
on the standard output, without storing the results in the history list.

          <br><dt><code>-s</code><dd>The <var>arg</var>s are added to the end of
the history list as a single entry.

     </dl>

     <p>When any of the <samp><span class="option">-w</span></samp>, <samp><span class="option">-r</span></samp>, <samp><span class="option">-a</span></samp>, or <samp><span class="option">-n</span></samp> options is
used, if <var>filename</var>
is given, then it is used as the history file.  If not, then
the value of the <samp><span class="env">HISTFILE</span></samp> variable is used.

   </dl>

</body></html>

