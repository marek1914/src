<html lang="en">
<head>
<title>Tilde Expansion - Bash Reference Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Bash Reference Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Shell-Expansions.html#Shell-Expansions" title="Shell Expansions">
<link rel="prev" href="Brace-Expansion.html#Brace-Expansion" title="Brace Expansion">
<link rel="next" href="Shell-Parameter-Expansion.html#Shell-Parameter-Expansion" title="Shell Parameter Expansion">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This text is a brief description of the features that are present in
the Bash shell (version 4.1, 23 December 2009).

This is Edition 4.1, last updated 23 December 2009,
of `The GNU Bash Reference Manual',
for `Bash', Version 4.1.

Copyright (C) 1988--2009 Free Software Foundation, Inc.

Permission is granted to make and distribute verbatim copies of
this manual provided the copyright notice and this permission notice
are preserved on all copies.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover texts
     being ``A GNU Manual'', and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License''.

     (a) The FSF's Back-Cover Text is: You are free to copy and modify
     this GNU manual.  Buying copies from GNU Press supports the FSF in
     developing GNU and promoting software freedom.''

   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Tilde-Expansion"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Shell-Parameter-Expansion.html#Shell-Parameter-Expansion">Shell Parameter Expansion</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Brace-Expansion.html#Brace-Expansion">Brace Expansion</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Shell-Expansions.html#Shell-Expansions">Shell Expansions</a>
<hr>
</div>

<h4 class="subsection">3.5.2 Tilde Expansion</h4>

<p><a name="index-tilde-expansion-83"></a><a name="index-expansion_002c-tilde-84"></a>
If a word begins with an unquoted tilde character (&lsquo;<samp><span class="samp">~</span></samp>&rsquo;), all of the
characters up to the first unquoted slash (or all characters,
if there is no unquoted slash) are considered a <var>tilde-prefix</var>. 
If none of the characters in the tilde-prefix are quoted, the
characters in the tilde-prefix following the tilde are treated as a
possible <var>login name</var>. 
If this login name is the null string, the tilde is replaced with the
value of the <samp><span class="env">HOME</span></samp> shell variable. 
If <samp><span class="env">HOME</span></samp> is unset, the home directory of the user executing the
shell is substituted instead. 
Otherwise, the tilde-prefix is replaced with the home directory
associated with the specified login name.

   <p>If the tilde-prefix is &lsquo;<samp><span class="samp">~+</span></samp>&rsquo;, the value of
the shell variable <samp><span class="env">PWD</span></samp> replaces the tilde-prefix. 
If the tilde-prefix is &lsquo;<samp><span class="samp">~-</span></samp>&rsquo;, the value of the shell variable
<samp><span class="env">OLDPWD</span></samp>, if it is set, is substituted.

   <p>If the characters following the tilde in the tilde-prefix consist of a
number <var>N</var>, optionally prefixed by a &lsquo;<samp><span class="samp">+</span></samp>&rsquo; or a &lsquo;<samp><span class="samp">-</span></samp>&rsquo;,
the tilde-prefix is replaced with the
corresponding element from the directory stack, as it would be displayed
by the <code>dirs</code> builtin invoked with the characters following tilde
in the tilde-prefix as an argument (see <a href="The-Directory-Stack.html#The-Directory-Stack">The Directory Stack</a>). 
If the tilde-prefix, sans the tilde, consists of a number without a
leading &lsquo;<samp><span class="samp">+</span></samp>&rsquo; or &lsquo;<samp><span class="samp">-</span></samp>&rsquo;, &lsquo;<samp><span class="samp">+</span></samp>&rsquo; is assumed.

   <p>If the login name is invalid, or the tilde expansion fails, the word is
left unchanged.

   <p>Each variable assignment is checked for unquoted tilde-prefixes immediately
following a &lsquo;<samp><span class="samp">:</span></samp>&rsquo; or the first &lsquo;<samp><span class="samp">=</span></samp>&rsquo;. 
In these cases, tilde expansion is also performed. 
Consequently, one may use file names with tildes in assignments to
<samp><span class="env">PATH</span></samp>, <samp><span class="env">MAILPATH</span></samp>, and <samp><span class="env">CDPATH</span></samp>,
and the shell assigns the expanded value.

   <p>The following table shows how Bash treats unquoted tilde-prefixes:

     <dl>
<dt><code>~</code><dd>The value of <code>$HOME</code>
<br><dt><code>~/foo</code><dd><samp><span class="file">$HOME/foo</span></samp>

     <br><dt><code>~fred/foo</code><dd>The subdirectory <code>foo</code> of the home directory of the user
<code>fred</code>

     <br><dt><code>~+/foo</code><dd><samp><span class="file">$PWD/foo</span></samp>

     <br><dt><code>~-/foo</code><dd><samp><span class="file">${OLDPWD-'~-'}/foo</span></samp>

     <br><dt><code>~</code><var>N</var><dd>The string that would be displayed by &lsquo;<samp><span class="samp">dirs +</span><var>N</var></samp>&rsquo;

     <br><dt><code>~+</code><var>N</var><dd>The string that would be displayed by &lsquo;<samp><span class="samp">dirs +</span><var>N</var></samp>&rsquo;

     <br><dt><code>~-</code><var>N</var><dd>The string that would be displayed by &lsquo;<samp><span class="samp">dirs -</span><var>N</var></samp>&rsquo;

   </dl>

   </body></html>

