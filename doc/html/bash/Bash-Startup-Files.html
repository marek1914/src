<html lang="en">
<head>
<title>Bash Startup Files - Bash Reference Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Bash Reference Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Bash-Features.html#Bash-Features" title="Bash Features">
<link rel="prev" href="Invoking-Bash.html#Invoking-Bash" title="Invoking Bash">
<link rel="next" href="Interactive-Shells.html#Interactive-Shells" title="Interactive Shells">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This text is a brief description of the features that are present in
the Bash shell (version 4.1, 23 December 2009).

This is Edition 4.1, last updated 23 December 2009,
of `The GNU Bash Reference Manual',
for `Bash', Version 4.1.

Copyright (C) 1988--2009 Free Software Foundation, Inc.

Permission is granted to make and distribute verbatim copies of
this manual provided the copyright notice and this permission notice
are preserved on all copies.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover texts
     being ``A GNU Manual'', and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License''.

     (a) The FSF's Back-Cover Text is: You are free to copy and modify
     this GNU manual.  Buying copies from GNU Press supports the FSF in
     developing GNU and promoting software freedom.''

   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Bash-Startup-Files"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Interactive-Shells.html#Interactive-Shells">Interactive Shells</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Invoking-Bash.html#Invoking-Bash">Invoking Bash</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Bash-Features.html#Bash-Features">Bash Features</a>
<hr>
</div>

<h3 class="section">6.2 Bash Startup Files</h3>

<p><a name="index-startup-files-242"></a>
This section describes how Bash executes its startup files. 
If any of the files exist but cannot be read, Bash reports an error. 
Tildes are expanded in file names as described above under
Tilde Expansion (see <a href="Tilde-Expansion.html#Tilde-Expansion">Tilde Expansion</a>).

   <p>Interactive shells are described in <a href="Interactive-Shells.html#Interactive-Shells">Interactive Shells</a>.

<h5 class="subsubheading">Invoked as an interactive login shell, or with <samp><span class="option">--login</span></samp></h5>

<p>When Bash is invoked as an interactive login shell, or as a
non-interactive shell with the <samp><span class="option">--login</span></samp> option, it first reads and
executes commands from the file <samp><span class="file">/etc/profile</span></samp>, if that file exists. 
After reading that file, it looks for <samp><span class="file">~/.bash_profile</span></samp>,
<samp><span class="file">~/.bash_login</span></samp>, and <samp><span class="file">~/.profile</span></samp>, in that order, and reads
and executes commands from the first one that exists and is readable. 
The <samp><span class="option">--noprofile</span></samp> option may be used when the shell is started to
inhibit this behavior.

   <p>When a login shell exits, Bash reads and executes commands from
the file <samp><span class="file">~/.bash_logout</span></samp>, if it exists.

<h5 class="subsubheading">Invoked as an interactive non-login shell</h5>

<p>When an interactive shell that is not a login shell is started, Bash
reads and executes commands from <samp><span class="file">~/.bashrc</span></samp>, if that file exists. 
This may be inhibited by using the <samp><span class="option">--norc</span></samp> option. 
The <samp><span class="option">--rcfile </span><var>file</var></samp> option will force Bash to read and
execute commands from <var>file</var> instead of <samp><span class="file">~/.bashrc</span></samp>.

   <p>So, typically, your <samp><span class="file">~/.bash_profile</span></samp> contains the line
<pre class="example">     <code>if [ -f ~/.bashrc ]; then . ~/.bashrc; fi</code>
</pre>
   <p class="noindent">after (or before) any login-specific initializations.

<h5 class="subsubheading">Invoked non-interactively</h5>

<p>When Bash is started non-interactively, to run a shell script,
for example, it looks for the variable <samp><span class="env">BASH_ENV</span></samp> in the environment,
expands its value if it appears there, and uses the expanded value as
the name of a file to read and execute.  Bash behaves as if the
following command were executed:
<pre class="example">     <code>if [ -n "$BASH_ENV" ]; then . "$BASH_ENV"; fi</code>
</pre>
   <p class="noindent">but the value of the <samp><span class="env">PATH</span></samp> variable is not used to search for the
file name.

   <p>As noted above, if a non-interactive shell is invoked with the
<samp><span class="option">--login</span></samp> option, Bash attempts to read and execute commands from the
login shell startup files.

<h5 class="subsubheading">Invoked with name <code>sh</code></h5>

<p>If Bash is invoked with the name <code>sh</code>, it tries to mimic the
startup behavior of historical versions of <code>sh</code> as closely as
possible, while conforming to the <span class="sc">posix</span> standard as well.

   <p>When invoked as an interactive login shell, or as a non-interactive
shell with the <samp><span class="option">--login</span></samp> option, it first attempts to read
and execute commands from <samp><span class="file">/etc/profile</span></samp> and <samp><span class="file">~/.profile</span></samp>, in
that order. 
The <samp><span class="option">--noprofile</span></samp> option may be used to inhibit this behavior. 
When invoked as an interactive shell with the name <code>sh</code>, Bash
looks for the variable <samp><span class="env">ENV</span></samp>, expands its value if it is defined,
and uses the expanded value as the name of a file to read and execute. 
Since a shell invoked as <code>sh</code> does not attempt to read and execute
commands from any other startup files, the <samp><span class="option">--rcfile</span></samp> option has
no effect. 
A non-interactive shell invoked with the name <code>sh</code> does not attempt
to read any other startup files.

   <p>When invoked as <code>sh</code>, Bash enters <span class="sc">posix</span> mode after
the startup files are read.

<h5 class="subsubheading">Invoked in <span class="sc">posix</span> mode</h5>

<p>When Bash is started in <span class="sc">posix</span> mode, as with the
<samp><span class="option">--posix</span></samp> command line option, it follows the <span class="sc">posix</span> standard
for startup files. 
In this mode, interactive shells expand the <samp><span class="env">ENV</span></samp> variable
and commands are read and executed from the file whose name is the
expanded value. 
No other startup files are read.

<h5 class="subsubheading">Invoked by remote shell daemon</h5>

<p>Bash attempts to determine when it is being run with its standard input
connected to a a network connection, as if by the remote shell
daemon, usually <code>rshd</code>, or the secure shell daemon <code>sshd</code>. 
If Bash determines it is being run in
this fashion, it reads and executes commands from <samp><span class="file">~/.bashrc</span></samp>, if that
file exists and is readable. 
It will not do this if invoked as <code>sh</code>. 
The <samp><span class="option">--norc</span></samp> option may be used to inhibit this behavior, and the
<samp><span class="option">--rcfile</span></samp> option may be used to force another file to be read, but
<code>rshd</code> does not generally invoke the shell with those options or
allow them to be specified.

<h5 class="subsubheading">Invoked with unequal effective and real <span class="sc">uid/gid</span>s</h5>

<p>If Bash is started with the effective user (group) id not equal to the
real user (group) id, and the <code>-p</code> option is not supplied, no startup
files are read, shell functions are not inherited from the environment,
the <samp><span class="env">SHELLOPTS</span></samp>, <samp><span class="env">BASHOPTS</span></samp>, <samp><span class="env">CDPATH</span></samp>, and <samp><span class="env">GLOBIGNORE</span></samp>
variables, if they appear in the environment, are ignored, and the effective
user id is set to the real user id. 
If the <code>-p</code> option is supplied at invocation, the startup behavior is
the same, but the effective user id is not reset.

   </body></html>

